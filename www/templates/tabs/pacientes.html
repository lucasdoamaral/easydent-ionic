<ion-view view-title="Pacientes" ng-controller="NavCtrl">

  <ion-nav-buttons side="primary">
    <!-- <button class="button button-clear" ng-click="toState('tab.paciente-new')"> Novo</button> -->
    <!-- <button class="button button-clear" ng-click="toState('tab.paciente-new')">
      <i class="icon ion-plus-round"></i>
    </button> -->
    <button class="button" ng-click="toState('tab.paciente-new')">+ Novo</button> 
  </ion-nav-buttons>

  <ion-content>

    <ion-refresher pulling-text="Atualizando..." on-refresh="refreshData()">
    </ion-refresher>

    <ion-list ng-if="listaCarregada">

      <ion-item ng-if="!pacientes.length">Nenhum paciente cadastrado</ion-item>
      <!-- <ion-item ng-if="pacientes.length" on-hold="pacienteHold({{paciente}})" ng-repeat="paciente in pacientes" href="#tab/pacientes/{{paciente.id}}">
        {{paciente.nome}} <strong>{{paciente.telefone}}</strong>
      </ion-item> -->
      <a ng-repeat="paciente in pacientes" class="item item-icon-left" href="#tab/pacientes/{{paciente.id}}">
        <i class="icon ion-person"></i>
        {{paciente.nome}}
        <span class="item-note">
          {{paciente.telefone}}
        </span>
      </a>

    </ion-list>

    <ion-infinite-scroll on-infinite="loadMoreData()" distance="10%" ng-if="hasMoreData()">
    </ion-infinite-scroll>

  </ion-content>

</ion-view>
